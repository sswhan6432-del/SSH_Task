<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Task Splitter â€” Simple & Free</title>
  <meta name="description" content="Split your complex tasks into simple steps for AI assistants like Claude.">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="router.css">
  <link rel="stylesheet" href="auth.css">
</head>
<body>

  <!-- Navigation -->
  <nav class="nav scrolled" id="nav">
    <div class="nav-inner">
      <a href="/index.html#hero" class="nav-logo">SSH</a>
      <ul class="nav-links">
        <li><a href="/index.html">Portfolio</a></li>
        <li><a href="/router.html" class="active">Splitter</a></li>
        <li><a href="/saveToken.html">TokenSaver</a></li>
        <li><a href="/costTracker.html">Cost</a></li>
        <li><a href="/history.html">History</a></li>
        <li><a href="/batch.html">Batch</a></li>
        <li><a href="/prompts.html">Prompts</a></li>
        <li><a href="/feedback.html">Feedback</a></li>
        <li><a href="/dashboard.html">Dashboard</a></li>
      </ul>
      <div class="nav-auth" id="nav-auth"></div>
      <button class="nav-toggle" id="nav-toggle" aria-label="Toggle menu">
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobile-menu">
    <ul>
      <li><a href="/index.html">Portfolio</a></li>
      <li><a href="/router.html">Task Splitter</a></li>
      <li><a href="/saveToken.html">TokenSaver Pro</a></li>
      <li><a href="/costTracker.html">Cost Tracker</a></li>
      <li><a href="/history.html">History</a></li>
      <li><a href="/batch.html">Batch Router</a></li>
      <li><a href="/prompts.html">Prompt Library</a></li>
      <li><a href="/feedback.html">Feedback</a></li>
      <li><a href="/dashboard.html">Dashboard</a></li>
    </ul>
    <div class="mobile-auth" id="mobile-auth"></div>
  </div>

  <!-- Main Content -->
  <main class="router-main">

    <!-- Header -->
    <header class="router-header">
      <p class="section-label">Free Tool</p>
      <h1 class="section-title" id="page-title">AI Task Splitter</h1>
      <p class="router-sub" id="page-sub">Break down complex requests into simple tasks for Claude AI.<br>No signup. No cost. Just paste and go.</p>
    </header>

    <!-- Version Toggle -->
    <div class="version-toggle" id="version-toggle">
      <button class="version-btn active" data-mode="basic" id="btn-mode-basic">
        <span class="version-btn-icon">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/>
            <rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/>
          </svg>
        </span>
        Basic Splitter
      </button>
      <button class="version-btn" data-mode="v5" id="btn-mode-v5">
        <span class="version-btn-icon">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 2a4 4 0 014 4c0 1.95-2 3-2 8h-4c0-5-2-6.05-2-8a4 4 0 014-4z"/>
            <line x1="10" y1="18" x2="14" y2="18"/><line x1="10" y1="21" x2="14" y2="21"/>
          </svg>
        </span>
        NLP/ML Engine v5
      </button>
      <button class="version-btn" data-mode="blueprint" id="btn-mode-blueprint">
        <span class="version-btn-icon">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"/>
            <path d="M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/>
          </svg>
        </span>
        Blueprint
      </button>
    </div>

    <!-- v5 NLP/ML Options (visible when v5 mode selected) -->
    <div class="v5-options-bar" id="v5-options-bar" style="display:none;">
      <div class="v5-options-inner">
        <label class="v5-opt">
          <input type="checkbox" id="opt-v5-compress" checked> Compression
        </label>
        <label class="v5-opt">
          Level:
          <select id="sel-v5-level">
            <option value="1">1 (Mild)</option>
            <option value="2" selected>2 (Balanced)</option>
            <option value="3">3 (Aggressive)</option>
          </select>
        </label>
        <label class="v5-opt">
          <input type="checkbox" id="opt-v5-stats" checked> Show Stats
        </label>
      </div>
    </div>

    <!-- How it works -->
    <section class="how-it-works">
      <h2>How to use</h2>
      <div class="steps">
        <div class="step">
          <span class="step-num">1</span>
          <p>Type your request below (like "Build a login page and add dark mode")</p>
        </div>
        <div class="step">
          <span class="step-num">2</span>
          <p>Click "Split Tasks" and get simple, numbered steps</p>
        </div>
        <div class="step">
          <span class="step-num">3</span>
          <p>Copy each task block and paste it to Claude, one at a time</p>
        </div>
      </div>
    </section>

    <!-- Request Input -->
    <section class="input-section">
      <label class="area-label" for="request-input">What do you want to build?</label>
      <textarea id="request-input" rows="6" placeholder="Example: Build a contact form with email validation and add a thank you page"></textarea>
      <div class="btn-row">
        <button class="btn btn-primary btn-large" id="btn-run" type="button">
          Split Tasks
        </button>
        <button class="btn" id="btn-clear-input" type="button">Clear</button>
      </div>
    </section>

    <!-- Output -->
    <section class="output-section">
      <div class="output-header">
        <label class="area-label">Your Tasks (Copy one at a time)</label>
        <div class="output-header-right">
          <div class="ticket-selector" id="ticket-selector" style="display:none;">
            <label for="ticket-select">Select task:</label>
            <select id="ticket-select"></select>
          </div>
          <button class="easy-toggle" id="easy-toggle" type="button" aria-label="Toggle Easy Mode">
            <span class="easy-toggle-label" id="easy-toggle-label">Easy</span>
            <span class="easy-toggle-track">
              <span class="easy-toggle-thumb"></span>
            </span>
          </button>
        </div>
      </div>

      <!-- Terminal View (default) -->
      <div class="output-display" id="output-display">
        <pre id="output-text">Your split tasks will appear here...</pre>
      </div>

      <!-- Easy View (hidden by default) -->
      <div class="easy-view" id="easy-view" style="display:none;">
        <div class="easy-placeholder" id="easy-placeholder">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="18" height="18" rx="2"/><line x1="9" y1="9" x2="15" y2="9"/>
            <line x1="9" y1="13" x2="15" y2="13"/><line x1="9" y1="17" x2="12" y2="17"/>
          </svg>
          <p>Split your tasks and they will appear here as easy-to-follow cards.</p>
        </div>
        <div class="easy-cards" id="easy-cards"></div>
      </div>

      <div class="btn-row" id="terminal-btn-row">
        <button class="btn btn-primary" id="btn-copy-block" type="button">Copy This Task</button>
        <button class="btn" id="btn-send-batch" type="button">Send to Batch</button>
        <button class="btn" id="btn-clear-output" type="button">Clear</button>
      </div>

      <!-- v5.0 Stats -->
      <div id="v5-stats" style="display:none;margin-top:12px;padding:10px 14px;border-radius:8px;background:var(--card-bg,#f8f9fa);border:1px solid var(--border,#e0e0e0);font-size:0.85rem;">
        <strong>v5.0 Stats</strong>
        <span id="v5-stats-content" style="margin-left:8px;color:var(--text-secondary,#666);"></span>
      </div>
    </section>

    <!-- Advanced Settings (hidden by default) -->
    <details class="advanced-settings">
      <summary>Advanced Settings (for experts)</summary>
      <div class="config-body" id="config-body">
        <div class="config-row">
          <div class="config-field config-field-wide">
            <label for="router-select">Router Script</label>
            <select id="router-select"></select>
          </div>
          <button class="btn btn-sm" id="btn-refresh" type="button">Refresh</button>
        </div>

        <div class="options-grid">
          <label class="check-label">
            <input type="checkbox" id="opt-friendly" checked> Beginner Mode
          </label>
          <label class="check-label">
            <input type="checkbox" id="opt-force-split" checked> Force Split
          </label>
          <label class="check-label">
            <input type="checkbox" id="opt-groq-translate" checked> Auto-translate
          </label>
        </div>

        <!-- v5 NLP/ML options moved to version toggle bar above -->
        <input type="hidden" id="opt-v5-enabled" value="false">
      </div>
    </details>

    <!-- Hidden config fields (set to sensible defaults) -->
    <input type="hidden" id="opt-desktop-edit" value="false">
    <input type="hidden" id="opt-opus-only" value="false">
    <input type="hidden" id="opt-tickets-md" value="false">
    <input type="hidden" id="opt-translate" value="true">
    <input type="hidden" id="sel-economy" value="strict">
    <input type="hidden" id="sel-phase" value="implement">
    <input type="hidden" id="inp-one-task" value="">
    <input type="hidden" id="inp-max-tickets" value="0">
    <input type="hidden" id="inp-min-tickets" value="0">
    <input type="hidden" id="inp-merge" value="">
    <span id="preflight-badge" style="display:none;"></span>

  </main>

  <!-- Toast -->
  <div class="toast" id="toast"></div>

  <!-- Loading overlay -->
  <div class="loading-overlay" id="loading-overlay" style="display:none;">
    <div class="spinner"></div>
    <p id="loading-text">Splitting your tasks...</p>
  </div>

  <script src="router.js"></script>
  <script src="auth.js"></script>
  <script src="page-transition.js"></script>
</body>
</html>
